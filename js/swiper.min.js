function extend(t,e){for(var n in e)t[n]=e[n];return t}function getElement(t){return"string"==typeof t?document.querySelector(t):t}function noop(){}function Swiper(t){var e=this;e.default={container:".swiper",item:".item",activeClass:"active",ratio:null,observer:!0,autoplay:!0,threshold:50,duration:300,during:3e3,onSwiped:noop,swiping:noop},e.options=extend(e.default,t),e.running=!1,e.$container=getElement(e.options.container),e.$wrap=e.$container.parentNode,e.$items=e.$container.querySelectorAll(e.options.item),e.count=e.$items.length,e.init(),window.addEventListener("resize",function(){e.init()}),e.bindEvents()}Swiper.prototype.createDots=function(){if(this.options.observer){var t=[],e=document.createElement("div");e.className="dotCon";for(var n=0;n<this.count;n++){var r=document.createElement("i");0==n&&(r.className="active"),t[n]=r,e.appendChild(r)}this.$wrap.appendChild(e),this.dotArr=t}},Swiper.prototype.activeDot=function(t){Array.prototype.forEach.call(this.dotArr,function(e,n){e.className=n==t?"active":""})},Swiper.prototype.init=function(){var t=this;t.start={},t.move={},t.end={},t.prev=0,t.current=0,t.offset=0,t.goto=-1,t.eventHandlers={},t.running?(t.go(0),t.$container.removeAttribute("style"),t.options.observer&&t.activeDot(0)):t.createDots(),t.width=t.$wrap.offsetWidth;var e=t.width;t.$container.style.width=e*t.count+"px";var n=t.options.ratio;n&&(t.$container.style.height=e/n+"px"),Array.prototype.forEach.call(t.$items,function(t,n){t.style.width=e+"px"}),t.activate(0),t.options.autoplay&&t.autoplay(),t.running=!0},Swiper.prototype.bindEvents=function(){var t=this;this.$container.addEventListener("touchstart",function(e){t.start.x=e.changedTouches[0].pageX,t.$container.style["-webkit-transition"]="none",t.$container.style.transition="none"},!1),this.$container.addEventListener("touchmove",function(e){t.move.x=e.changedTouches[0].pageX;var n=t.move.x-t.start.x-t.offset,r="translate3d("+n+"px, 0, 0)";t.$container.style["-webkit-transform"]=r,t.$container.style.transform=r,t.options.swiping(n,!1),e.preventDefault()},!1),this.$container.addEventListener("touchend",function(e){t.end.x=e.changedTouches[0].pageX;var n=t.end.x-t.start.x;t.prev=t.current,n>t.options.threshold?t.current=0===t.current?0:--t.current:n<-t.options.threshold&&(t.current=t.current<t.count-1?++t.current:t.current),t.show(t.current),t.options.observer&&t.activeDot(t.current)},!1),this.$container.addEventListener("webkitTransitionEnd",function(e){if(e.target!==t.$container)return!1;(t.current!=t.prev||t.goto>-1)&&(t.activate(t.current),t.options.observer&&t.activeDot(t.current),(t.eventHandlers.swiped||noop).apply(t,[t.prev,t.current]),t.goto=-1),e.preventDefault()},!1)},Swiper.prototype.show=function(t){this.offset=t*this.width;var e="translate3d(-"+this.offset+"px, 0, 0)",n=this.options.duration+"ms";this.$container.style["-webkit-transition"]="-webkit-transform "+n,this.$container.style.transition="transform "+n,this.$container.style["-webkit-transform"]=e,this.$container.style.transform=e,this.options.swiping(-this.offset,!0)},Swiper.prototype.activate=function(t){var e=this,n=e.options.activeClass;Array.prototype.forEach.call(e.$items,function(r,i){r.classList.remove(n),t===i&&(r.classList.add(n),e.options.onSwiped(i))})},Swiper.prototype.go=function(t){if(!(t<0||t>this.count-1||t===this.current))return 0===t?(this.current=0,this.prev=0):(this.current=t,this.prev=t-1),this.goto=t,this.show(this.current),this},Swiper.prototype.next=function(){if(!(this.current>=this.count-1))return this.prev=this.current,this.show(++this.current),this},Swiper.prototype.on=function(t,e){if(this.eventHandlers[t])throw new Error("event "+t+" is already register");if("function"!=typeof e)throw new Error("parameter callback must be a function");return this.eventHandlers[t]=e,this},Swiper.prototype.autoplay=function(){var t=this,e=t.$wrap,n=function(){t.playTimer&&clearTimeout(t.playTimer),t.playTimer=setTimeout(function(){t.current+2>t.count?t.go(0):t.next(),n()},t.options.during)};n(),e.addEventListener("touchstart",function(){clearTimeout(t.playTimer)},!1),e.addEventListener("touchend",function(){n()},!1)},Swiper.prototype.stop=function(){clearTimeout(this.playTimer)};